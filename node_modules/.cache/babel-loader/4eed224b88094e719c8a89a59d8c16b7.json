{"remainingRequest":"/Users/linchengxun/Desktop/vuego-testfunc/node_modules/babel-loader/lib/index.js!/Users/linchengxun/Desktop/vuego-testfunc/node_modules/eslint-loader/index.js??ref--13-0!/Users/linchengxun/Desktop/vuego-testfunc/wgo.js-master/wgo/player.permalink.js","dependencies":[{"path":"/Users/linchengxun/Desktop/vuego-testfunc/wgo.js-master/wgo/player.permalink.js","mtime":1552470125050},{"path":"/Users/linchengxun/Desktop/vuego-testfunc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linchengxun/Desktop/vuego-testfunc/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/linchengxun/Desktop/vuego-testfunc/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _JSON$stringify from \"/Users/linchengxun/Desktop/vuego-testfunc/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.replace\";\n\n/* eslint-disable */\n(function (WGo, undefined) {\n  \"use strict\";\n\n  var permalink = {\n    active: true,\n    query: {}\n  };\n\n  var handle_hash = function handle_hash(player) {\n    try {\n      permalink.query = JSON.parse('{\"' + window.location.hash.substr(1).replace('=', '\":') + '}');\n    } catch (e) {\n      permalink.query = {};\n    }\n  }; // add hashchange event\n\n\n  window.addEventListener(\"hashchange\", function () {\n    if (window.location.hash != \"\" && permalink.active) {\n      handle_hash();\n\n      for (var key in permalink.query) {\n        var p_el = document.getElementById(key);\n        if (p_el && p_el._wgo_player) p_el._wgo_player.goTo(move_from_hash);\n      }\n    }\n  }); // save hash query (after DOM is loaded - you can turn this off by setting WGo.Player.permalink.active = false;\n\n  window.addEventListener(\"DOMContentLoaded\", function () {\n    if (window.location.hash != \"\" && permalink.active) {\n      handle_hash();\n    }\n  }); // scroll into view of the board\n\n  window.addEventListener(\"load\", function () {\n    if (window.location.hash != \"\" && permalink.active) {\n      for (var key in permalink.query) {\n        var p_el = document.getElementById(key);\n\n        if (p_el && p_el._wgo_player) {\n          p_el.scrollIntoView();\n          break;\n        }\n      }\n    }\n  });\n\n  var move_from_hash = function move_from_hash() {\n    if (permalink.query[this.element.id]) {\n      return permalink.query[this.element.id].goto;\n    }\n  };\n\n  WGo.Player.default.move = move_from_hash; // add menu item\n\n  if (WGo.BasicPlayer && WGo.BasicPlayer.component.Control) {\n    WGo.BasicPlayer.component.Control.menu.push({\n      constructor: WGo.BasicPlayer.control.MenuItem,\n      args: {\n        name: \"permalink\",\n        click: function click(player) {\n          var link = location.href.split(\"#\")[0] + '#' + player.element.id + '={\"goto\":' + _JSON$stringify(player.kifuReader.path) + '}';\n          player.showMessage('<h1>' + WGo.t('permalink') + '</h1><p><input class=\"wgo-permalink\" type=\"text\" value=\\'' + link + '\\' onclick=\"this.select(); event.stopPropagation()\"/></p>');\n        }\n      }\n    });\n  }\n\n  WGo.Player.permalink = permalink;\n  WGo.i18n.en[\"permalink\"] = \"Permanent link\";\n})(WGo);",{"version":3,"sources":["/Users/linchengxun/Desktop/vuego-testfunc/wgo.js-master/wgo/player.permalink.js"],"names":["WGo","undefined","permalink","active","query","handle_hash","player","JSON","parse","window","location","hash","substr","replace","e","addEventListener","key","p_el","document","getElementById","_wgo_player","goTo","move_from_hash","scrollIntoView","element","id","goto","Player","default","move","BasicPlayer","component","Control","menu","push","constructor","control","MenuItem","args","name","click","link","href","split","kifuReader","path","showMessage","t","i18n","en"],"mappings":"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","sourcesContent":["/* eslint-disable */\n(function(WGo, undefined) {\n\n\"use strict\";\n\nvar permalink = {\n\tactive: true,\n\tquery: {},\n};\n\nvar handle_hash = function(player) {\n\ttry {\n\t\tpermalink.query = JSON.parse('{\"'+window.location.hash.substr(1).replace('=', '\":')+'}');\n\t}\n\tcatch(e) {\n\t\tpermalink.query = {};\n\t}\n}\n\n// add hashchange event\nwindow.addEventListener(\"hashchange\", function() {\n\tif(window.location.hash != \"\" && permalink.active) {\n\t\thandle_hash();\n\n\t\tfor(var key in permalink.query) {\n\t\t\tvar p_el = document.getElementById(key);\n\t\t\tif(p_el && p_el._wgo_player) p_el._wgo_player.goTo(move_from_hash);\n\t\t}\n\t}\n});\n\n// save hash query (after DOM is loaded - you can turn this off by setting WGo.Player.permalink.active = false;\nwindow.addEventListener(\"DOMContentLoaded\", function() {\n\tif(window.location.hash != \"\" && permalink.active) {\n\t\thandle_hash();\n\t}\n});\n\n// scroll into view of the board\nwindow.addEventListener(\"load\", function() {\n\tif(window.location.hash != \"\" && permalink.active) {\n\t\tfor(var key in permalink.query) {\n\t\t\tvar p_el = document.getElementById(key);\n\t\t\tif(p_el && p_el._wgo_player) {\n\t\t\t\tp_el.scrollIntoView();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n});\n\nvar move_from_hash = function() {\n\tif(permalink.query[this.element.id]) {\n\t\treturn permalink.query[this.element.id].goto;\n\t}\n}\n\nWGo.Player.default.move = move_from_hash;\n\n// add menu item\nif(WGo.BasicPlayer && WGo.BasicPlayer.component.Control) {\n\tWGo.BasicPlayer.component.Control.menu.push({\n\t\tconstructor: WGo.BasicPlayer.control.MenuItem,\n\t\targs: {\n\t\t\tname: \"permalink\",\n\t\t\tclick: function(player) {\n\t\t\t\tvar link = location.href.split(\"#\")[0]+'#'+player.element.id+'={\"goto\":'+JSON.stringify(player.kifuReader.path)+'}';\n\t\t\t\tplayer.showMessage('<h1>'+WGo.t('permalink')+'</h1><p><input class=\"wgo-permalink\" type=\"text\" value=\\''+link+'\\' onclick=\"this.select(); event.stopPropagation()\"/></p>');\n\t\t\t},\n\t\t}\n\t});\n}\n\nWGo.Player.permalink = permalink;\nWGo.i18n.en[\"permalink\"] = \"Permanent link\";\n\n})(WGo);"]}]}