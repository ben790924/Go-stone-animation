{"remainingRequest":"/Users/linchengxun/Desktop/vuego-testfunc/node_modules/babel-loader/lib/index.js!/Users/linchengxun/Desktop/vuego-testfunc/node_modules/eslint-loader/index.js??ref--13-0!/Users/linchengxun/Desktop/vuego-testfunc/wgo.js-master/wgo/basicplayer.infobox.js","dependencies":[{"path":"/Users/linchengxun/Desktop/vuego-testfunc/wgo.js-master/wgo/basicplayer.infobox.js","mtime":1552470014745},{"path":"/Users/linchengxun/Desktop/vuego-testfunc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linchengxun/Desktop/vuego-testfunc/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/linchengxun/Desktop/vuego-testfunc/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _parseInt from \"/Users/linchengxun/Desktop/vuego-testfunc/node_modules/@babel/runtime-corejs2/core-js/parse-int\";\nimport \"core-js/modules/es6.function.name\";\n\n/* eslint-disable */\n(function () {\n  \"use strict\";\n\n  var prepare_dom = function prepare_dom() {\n    prepare_dom_box.call(this, \"white\");\n    prepare_dom_box.call(this, \"black\");\n    this.element.appendChild(this.white.box);\n    this.element.appendChild(this.black.box);\n  };\n\n  var prepare_dom_box = function prepare_dom_box(type) {\n    this[type] = {};\n    var t = this[type];\n    t.box = document.createElement(\"div\");\n    t.box.className = \"wgo-box-wrapper wgo-player-wrapper wgo-\" + type;\n    t.name = document.createElement(\"div\");\n    t.name.className = \"wgo-box-title\";\n    t.name.innerHTML = type;\n    t.box.appendChild(t.name);\n    var info_wrapper;\n    info_wrapper = document.createElement(\"div\");\n    info_wrapper.className = \"wgo-player-info\";\n    t.box.appendChild(info_wrapper);\n    t.info = {};\n    t.info.rank = prepare_dom_info(\"rank\");\n    t.info.rank.val.innerHTML = \"-\";\n    t.info.caps = prepare_dom_info(\"caps\");\n    t.info.caps.val.innerHTML = \"0\";\n    t.info.time = prepare_dom_info(\"time\");\n    t.info.time.val.innerHTML = \"--:--\";\n    info_wrapper.appendChild(t.info.rank.wrapper);\n    info_wrapper.appendChild(t.info.caps.wrapper);\n    info_wrapper.appendChild(t.info.time.wrapper);\n  };\n\n  var prepare_dom_info = function prepare_dom_info(type) {\n    var res = {};\n    res.wrapper = document.createElement(\"div\");\n    res.wrapper.className = \"wgo-player-info-box-wrapper\";\n    res.box = document.createElement(\"div\");\n    res.box.className = \"wgo-player-info-box\";\n    res.wrapper.appendChild(res.box);\n    res.title = document.createElement(\"div\");\n    res.title.className = \"wgo-player-info-title\";\n    res.title.innerHTML = WGo.t(type);\n    res.box.appendChild(res.title);\n    res.val = document.createElement(\"div\");\n    res.val.className = \"wgo-player-info-value\";\n    res.box.appendChild(res.val);\n    return res;\n  };\n\n  var kifu_loaded = function kifu_loaded(e) {\n    var info = e.kifu.info || {};\n\n    if (info.black) {\n      this.black.name.innerHTML = WGo.filterHTML(info.black.name) || WGo.t(\"black\");\n      this.black.info.rank.val.innerHTML = WGo.filterHTML(info.black.rank) || \"-\";\n    } else {\n      this.black.name.innerHTML = WGo.t(\"black\");\n      this.black.info.rank.val.innerHTML = \"-\";\n    }\n\n    if (info.white) {\n      this.white.name.innerHTML = WGo.filterHTML(info.white.name) || WGo.t(\"white\");\n      this.white.info.rank.val.innerHTML = WGo.filterHTML(info.white.rank) || \"-\";\n    } else {\n      this.white.name.innerHTML = WGo.t(\"white\");\n      this.white.info.rank.val.innerHTML = \"-\";\n    }\n\n    this.black.info.caps.val.innerHTML = \"0\";\n    this.white.info.caps.val.innerHTML = \"0\";\n\n    if (info.TM) {\n      this.setPlayerTime(\"black\", info.TM);\n      this.setPlayerTime(\"white\", info.TM);\n    } else {\n      this.black.info.time.val.innerHTML = \"--:--\";\n      this.white.info.time.val.innerHTML = \"--:--\";\n    }\n\n    this.updateDimensions();\n  };\n\n  var modify_font_size = function modify_font_size(elem) {\n    var css, max, size;\n\n    if (elem.style.fontSize) {\n      var size = _parseInt(elem.style.fontSize);\n\n      elem.style.fontSize = \"\";\n      css = window.getComputedStyle(elem);\n      max = _parseInt(css.fontSize);\n      elem.style.fontSize = size + \"px\";\n    } else {\n      css = window.getComputedStyle(elem);\n      max = size = _parseInt(css.fontSize);\n    }\n\n    if (size == max && elem.scrollHeight <= elem.offsetHeight) return;else if (elem.scrollHeight > elem.offsetHeight) {\n      size -= 2;\n\n      while (elem.scrollHeight > elem.offsetHeight && size > 1) {\n        elem.style.fontSize = size + \"px\";\n        size -= 2;\n      }\n    } else if (size < max) {\n      size += 2;\n\n      while (elem.scrollHeight <= elem.offsetHeight && size <= max) {\n        elem.style.fontSize = size + \"px\";\n        size += 2;\n      }\n\n      if (elem.scrollHeight > elem.offsetHeight) {\n        elem.style.fontSize = size - 4 + \"px\";\n      }\n    }\n  };\n\n  var update = function update(e) {\n    if (e.node.BL) this.setPlayerTime(\"black\", e.node.BL);\n    if (e.node.WL) this.setPlayerTime(\"white\", e.node.WL);\n    if (e.position.capCount.black !== undefined) this.black.info.caps.val.innerHTML = e.position.capCount.black;\n    if (e.position.capCount.white !== undefined) this.white.info.caps.val.innerHTML = e.position.capCount.white;\n  };\n  /**\n   * Implements box with basic informations about go players.\n   */\n\n\n  var InfoBox = WGo.extendClass(WGo.BasicPlayer.component.Component, function (player) {\n    this.super(player);\n    this.element.className = \"wgo-infobox\";\n    prepare_dom.call(this);\n    player.addEventListener(\"kifuLoaded\", kifu_loaded.bind(this));\n    player.addEventListener(\"update\", update.bind(this));\n  });\n\n  InfoBox.prototype.setPlayerTime = function (color, time) {\n    var min = Math.floor(time / 60);\n    var sec = Math.round(time) % 60;\n    this[color].info.time.val.innerHTML = min + \":\" + (sec < 10 ? \"0\" + sec : sec);\n  };\n\n  InfoBox.prototype.updateDimensions = function () {\n    modify_font_size(this.black.name);\n    modify_font_size(this.white.name);\n  };\n\n  var bp_layouts = WGo.BasicPlayer.layouts;\n  bp_layouts[\"right_top\"].right.push(\"InfoBox\");\n  bp_layouts[\"right\"].right.push(\"InfoBox\");\n  bp_layouts[\"one_column\"].top.push(\"InfoBox\");\n  bp_layouts[\"no_comment\"].top.push(\"InfoBox\");\n  WGo.i18n.en[\"rank\"] = \"Rank\";\n  WGo.i18n.en[\"caps\"] = \"Caps\";\n  WGo.i18n.en[\"time\"] = \"Time\";\n  WGo.BasicPlayer.component.InfoBox = InfoBox;\n})(WGo);",{"version":3,"sources":["/Users/linchengxun/Desktop/vuego-testfunc/wgo.js-master/wgo/basicplayer.infobox.js"],"names":["prepare_dom","prepare_dom_box","call","element","appendChild","white","box","black","type","t","document","createElement","className","name","innerHTML","info_wrapper","info","rank","prepare_dom_info","val","caps","time","wrapper","res","title","WGo","kifu_loaded","e","kifu","filterHTML","TM","setPlayerTime","updateDimensions","modify_font_size","elem","css","max","size","style","fontSize","window","getComputedStyle","scrollHeight","offsetHeight","update","node","BL","WL","position","capCount","undefined","InfoBox","extendClass","BasicPlayer","component","Component","player","super","addEventListener","bind","prototype","color","min","Math","floor","sec","round","bp_layouts","layouts","right","push","top","i18n","en"],"mappings":"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","sourcesContent":["/* eslint-disable */\n(function() {\n\n\"use strict\";\n\nvar prepare_dom = function() {\n\tprepare_dom_box.call(this,\"white\");\n\tprepare_dom_box.call(this,\"black\");\n\tthis.element.appendChild(this.white.box);\n\tthis.element.appendChild(this.black.box);\n}\n\nvar prepare_dom_box = function(type) {\n\tthis[type] = {};\n\tvar t = this[type];\n\tt.box = document.createElement(\"div\");\n\tt.box.className = \"wgo-box-wrapper wgo-player-wrapper wgo-\"+type;\n\n\tt.name = document.createElement(\"div\");\n\tt.name.className = \"wgo-box-title\";\n\tt.name.innerHTML = type;\n\tt.box.appendChild(t.name);\n\t\n\tvar info_wrapper;\n\tinfo_wrapper = document.createElement(\"div\");\n\tinfo_wrapper.className = \"wgo-player-info\";\n\tt.box.appendChild(info_wrapper);\n\t\n\tt.info = {};\n\tt.info.rank = prepare_dom_info(\"rank\");\n\tt.info.rank.val.innerHTML = \"-\";\n\tt.info.caps = prepare_dom_info(\"caps\");\n\tt.info.caps.val.innerHTML = \"0\";\n\tt.info.time = prepare_dom_info(\"time\");\n\tt.info.time.val.innerHTML = \"--:--\";\n\tinfo_wrapper.appendChild(t.info.rank.wrapper);\n\tinfo_wrapper.appendChild(t.info.caps.wrapper);\n\tinfo_wrapper.appendChild(t.info.time.wrapper);\n}\n\nvar prepare_dom_info = function(type) {\n\tvar res = {};\n\tres.wrapper = document.createElement(\"div\");\n\tres.wrapper.className = \"wgo-player-info-box-wrapper\";\n\t\n\tres.box = document.createElement(\"div\");\n\tres.box.className = \"wgo-player-info-box\";\n\tres.wrapper.appendChild(res.box);\n\t\n\tres.title = document.createElement(\"div\");\n\tres.title.className = \"wgo-player-info-title\";\n\tres.title.innerHTML = WGo.t(type);\n\tres.box.appendChild(res.title);\n\t\n\tres.val = document.createElement(\"div\");\n\tres.val.className = \"wgo-player-info-value\";\n\tres.box.appendChild(res.val);\n\t\n\treturn res;\n}\n\nvar kifu_loaded = function(e) {\n\tvar info = e.kifu.info || {};\n\t\n\tif(info.black) {\n\t\tthis.black.name.innerHTML = WGo.filterHTML(info.black.name) || WGo.t(\"black\");\n\t\tthis.black.info.rank.val.innerHTML = WGo.filterHTML(info.black.rank) || \"-\";\n\t}\n\telse {\n\t\tthis.black.name.innerHTML = WGo.t(\"black\");\n\t\tthis.black.info.rank.val.innerHTML = \"-\";\n\t}\n\tif(info.white) {\n\t\tthis.white.name.innerHTML = WGo.filterHTML(info.white.name) || WGo.t(\"white\");\n\t\tthis.white.info.rank.val.innerHTML = WGo.filterHTML(info.white.rank) || \"-\";\n\t}\n\telse {\n\t\tthis.white.name.innerHTML = WGo.t(\"white\");\n\t\tthis.white.info.rank.val.innerHTML = \"-\";\n\t}\n\t\n\tthis.black.info.caps.val.innerHTML = \"0\";\n\tthis.white.info.caps.val.innerHTML = \"0\";\n\t\n\tif(info.TM) {\n\t\tthis.setPlayerTime(\"black\", info.TM);\n\t\tthis.setPlayerTime(\"white\", info.TM);\n\t}\n\telse {\n\t\tthis.black.info.time.val.innerHTML = \"--:--\";\n\t\tthis.white.info.time.val.innerHTML = \"--:--\";\n\t}\n\t\n\tthis.updateDimensions();\n}\n\nvar modify_font_size = function(elem) {\n\tvar css, max, size;\n\t\n\tif(elem.style.fontSize) {\n\t\tvar size = parseInt(elem.style.fontSize);\n\t\telem.style.fontSize = \"\";\n\t\tcss = window.getComputedStyle(elem);\n\t\tmax = parseInt(css.fontSize);\n\t\telem.style.fontSize = size+\"px\";\n\t}\n\telse {\t\n\t\tcss = window.getComputedStyle(elem);\n\t\tmax = size = parseInt(css.fontSize);\n\t}\n\t\n\tif(size == max && elem.scrollHeight <= elem.offsetHeight) return;\n\telse if(elem.scrollHeight > elem.offsetHeight) {\n\t\tsize -= 2;\n\t\twhile(elem.scrollHeight > elem.offsetHeight && size > 1) {\n\t\t\telem.style.fontSize = size+\"px\";\n\t\t\tsize -= 2;\n\t\t}\n\t}\n\telse if(size < max) {\n\t\tsize += 2;\n\t\twhile(elem.scrollHeight <= elem.offsetHeight && size <= max) {\n\t\t\telem.style.fontSize = size+\"px\";\n\t\t\tsize += 2;\n\t\t}\n\t\tif(elem.scrollHeight > elem.offsetHeight) {\n\t\t\telem.style.fontSize = (size-4)+\"px\";\n\t\t}\n\t}\n}\n\nvar update = function(e) {\n\tif(e.node.BL) this.setPlayerTime(\"black\", e.node.BL);\n\tif(e.node.WL) this.setPlayerTime(\"white\", e.node.WL);\n\tif(e.position.capCount.black !== undefined) this.black.info.caps.val.innerHTML = e.position.capCount.black;\n\tif(e.position.capCount.white !== undefined) this.white.info.caps.val.innerHTML = e.position.capCount.white;\n}\n\n/**\n * Implements box with basic informations about go players.\n */\n\nvar InfoBox = WGo.extendClass(WGo.BasicPlayer.component.Component, function(player) {\n\tthis.super(player);\n\tthis.element.className = \"wgo-infobox\";\n\t\n\tprepare_dom.call(this);\n\n\tplayer.addEventListener(\"kifuLoaded\", kifu_loaded.bind(this));\n\tplayer.addEventListener(\"update\", update.bind(this));\n\n});\n\nInfoBox.prototype.setPlayerTime = function(color, time) {\n\tvar min = Math.floor(time/60);\n\tvar sec = Math.round(time)%60;\n\tthis[color].info.time.val.innerHTML = min+\":\"+((sec < 10) ? \"0\"+sec : sec);\n};\n\nInfoBox.prototype.updateDimensions = function() {\n\tmodify_font_size(this.black.name);\n\tmodify_font_size(this.white.name);\n};\n\nvar bp_layouts = WGo.BasicPlayer.layouts;\nbp_layouts[\"right_top\"].right.push(\"InfoBox\");\nbp_layouts[\"right\"].right.push(\"InfoBox\");\nbp_layouts[\"one_column\"].top.push(\"InfoBox\");\nbp_layouts[\"no_comment\"].top.push(\"InfoBox\");\n\nWGo.i18n.en[\"rank\"] = \"Rank\";\nWGo.i18n.en[\"caps\"] = \"Caps\";\nWGo.i18n.en[\"time\"] = \"Time\";\n\nWGo.BasicPlayer.component.InfoBox = InfoBox;\n\n})(WGo);\n"]}]}